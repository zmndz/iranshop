$(document).ready(function(){function t(){$(".js-overlay").removeClass("overlay--active"),$(".js-search__result").removeClass("search__result--active")}function s(e){e?($(".js-search__result-history").addClass("search__result-history--active"),$(".js-search__result-tags").addClass("search__result-tags--active"),$(".js-search__result-autosuggest").removeClass("search__result-autosuggest--active"),$(".js-search__result-list").removeClass("search__result-list--active")):($(".js-search__result-history").removeClass("search__result-history--active"),$(".js-search__result-tags").removeClass("search__result-tags--active"),$(".js-search__result-autosuggest").addClass("search__result-autosuggest--active"),$(".js-search__result-list").addClass("search__result-list--active"))}$(".js-product__share-item-link").attr("data-url",window.location.href),$(".js-footer__jump-to-top").click(function(){$("html, body").scrollTop(0)}),$(".js-search__input").focusin(function(){$(".js-search__result").addClass("search__result--active"),$(".js-overlay").addClass("overlay--active"),$(".js-search__input").val()||s(!0)}),$(".js-search__input").focusout(function(){t()}),$(".js-search__icon-close").click(function(e){e.preventDefault(),$(".js-search__input").val(""),$(".js-search__icon-close").removeClass("search__icon-close--active"),t()}),$(".js-search__input").keyup(function(e){$(this).val()?($(".js-search__icon-close").addClass("search__icon-close--active"),$(".js-search__result-autosuggest--not-founded").text(e.target.value),s(!1)):($(".js-search__icon-close").removeClass("search__icon-close--active"),s(!0))}),$(".js-header-desktop__tab-menu-list").mouseover(function(){$(".header-desktop__tab-menu-list--active").not(this).removeClass("header-desktop__tab-menu-list--active"),$(this).addClass("header-desktop__tab-menu-list--active");$(".header-desktop__tab-menu-list");var e=$(".header-desktop__tab-menu-content"),t=$(this).children("div").data("index");e.each(function(){t==$(this).data("index")?$(this).addClass("header-desktop__tab-menu-content--active"):$(this).removeClass("header-desktop__tab-menu-content--active")})}),$(".js-header-responsive__burger-menu").click(function(){$(".header-responsive__side").addClass("header-responsive__side--open"),$(".header-responsive__side-wrapper").addClass("header-responsive__side-wrapper--open")}),$(".js-header-responsive__side-wrapper").click(function(e){e.target==this&&($(".header-responsive__side").removeClass("header-responsive__side--open"),$(".header-responsive__side-wrapper").removeClass("header-responsive__side-wrapper--open"))}),window.onscroll=function(){window.pageYOffset>r?e.slideUp(100):e.slideDown(100)};$(".js-header-desktop__row");var e=$(".js-header-desktop__navbar-wrapper"),r=150;new Swiper(".js-main-slider",{lazy:!1,preloadImages:!0,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});var i,o,n,c,l,d,a=new Swiper(".js-product__gallery-thumbs",{spaceBetween:10,slidesPerView:4,freeMode:!0}),u=(new Swiper(".js-product__gallery-main",{spaceBetween:10,lazy:!1,preloadImages:!0,slidesPerView:1,loop:!1,thumbs:{swiper:a},on:{slideChangeTransitionEnd:function(){_(".product__image",2)}}}),new Swiper(".js-slider",{lazy:!0,slidesPerView:2,spaceBetween:10,freeMode:!0,loop:!1,navigation:{nextEl:".products-button-next",prevEl:".products-button-prev"},scrollbar:{el:".swiper-scrollbar",hide:!0},breakpoints:{700:{slidesPerView:3,spaceBetween:15},991:{slidesPerView:4,spaceBetween:40,freeMode:!1}}}),new Swiper(".js-special-slider",{lazy:!0,slidesPerView:2,spaceBetween:10,freeMode:!0,loop:!1,navigation:{nextEl:".special-slider-button-next",prevEl:".special-slider-button-prev"},scrollbar:{el:".swiper-scrollbar",hide:!0},breakpoints:{700:{slidesPerView:3,spaceBetween:15},991:{slidesPerView:4,spaceBetween:10,freeMode:!1}}}),new Swiper(".js-brand-slider",{lazy:!0,slidesPerView:2,spaceBetween:10,freeMode:!0,loop:!0,navigation:{nextEl:".brand-slider-button-next",prevEl:".brand-slider-button-prev"},scrollbar:{el:".swiper-scrollbar",hide:!0},breakpoints:{700:{slidesPerView:3,spaceBetween:15},991:{slidesPerView:5,spaceBetween:40,freeMode:!1}}}),new Swiper(".js-moment-slider",{init:!1,lazy:!0,slidesPerView:1,loop:!0,autoplay:{delay:7e3},speed:500}));function p(){$(".moment-slider__loader").css({width:"100%",transition:"width 7000ms ease-in-out"})}function _(e,c){var l,d,u,p;function t(e){var t,s,r,a,i,o,n;e.preventDefault(),n=o=0,a=(a=e)||window.event,i=l.getBoundingClientRect(),o=a.pageX-i.left,n=a.pageY-i.top,o-=window.pageXOffset,n-=window.pageYOffset,r=(t={x:o,y:n}).y,(s=t.x)>l.width-u/c&&(s=l.width-u/c),s<u/c&&(s=u/c),r>l.height-p/c&&(r=l.height-p/c),r<p/c&&(r=p/c),d.style.left=s-u+"px",d.style.top=r-p+"px",d.style.backgroundPosition="-"+(s*c-u+3)+"px -"+(r*c-p+3)+"px"}imgList=$(e),imgList.siblings().remove(),imgList.map(function(e,t){t.closest(".swiper-slide-active")&&(l=t)}),l&&((d=document.createElement("DIV")).setAttribute("class","img-magnifier-glass"),l.parentElement.insertBefore(d,l),d.style.backgroundImage="url('"+l.src+"')",d.style.backgroundRepeat="no-repeat",d.style.backgroundSize=l.width*c+"px "+l.height*c+"px",u=d.offsetWidth/2,p=d.offsetHeight/2,d.addEventListener("mousemove",t),l.addEventListener("mousemove",t),d.addEventListener("touchmove",t),l.addEventListener("touchmove",t))}function h(e){var t=(e=$(e)).val();return e.length?!!t||($(e).addClass("validation-shake"),setTimeout(function(){$(e).removeClass("validation-shake")},900),!1):(console.log("There is no Eelement"),!1)}u.on("init",function(){p()}),u.$wrapperEl&&u.init(),u.on("slideChangeTransitionStart",function(){$(".moment-slider__loader").css({width:0,transition:"width 0s ease-in-out"})}),u.on("slideChangeTransitionEnd",function(){p()}),function(){$(".js-special-slider");var e=$(".js-special-slider__slide");e.length&&e.map(function(i,e){var o=$(".js-special-slider__counter-seconds"),n=$(".js-special-slider__counter-minutes"),c=$(".js-special-slider__counter-hour"),l=1e3*o[i].innerHTML+6e4*n[i].innerHTML+36e5*c[i].innerHTML,d=0,u=setInterval(function(){var e,t,s,r,a=(e=l-d,s=Math.floor(e/1e3),r=Math.floor(s/60),s%=60,t=Math.floor(r/60),{hour:0==(t%=24)?"00":10<=t?t:"0"+t,minute:0==(r%=60)?"00":10<=r?r:"0"+r,seconds:0==s?"00":10<=s?s:"0"+s});o[i].innerHTML=a.seconds,n[i].innerHTML=a.minute,c[i].innerHTML=a.hour,c[i].innerHTML<=0&&n[i].innerHTML<=0&&o[i].innerHTML<=0&&clearInterval(u),d+=1e3},1e3)})}(),$(".js-product__counter").length&&(i=$(".js-product__counter-seconds"),o=$(".js-product__counter-minutes"),n=$(".js-product__counter-hours"),c=1e3*i[0].innerHTML+6e4*o[0].innerHTML+36e5*n[0].innerHTML,l=0,d=setInterval(function(){var e,t,s,r,a=(e=c-l,s=Math.floor(e/1e3),r=Math.floor(s/60),s%=60,t=Math.floor(r/60),{hour:0==(t%=24)?"00":10<=t?t:"0"+t,minute:0==(r%=60)?"00":10<=r?r:"0"+r,seconds:0==s?"00":10<=s?s:"0"+s});i[0].innerHTML=a.seconds,o[0].innerHTML=a.minute,n[0].innerHTML=a.hour,n[0].innerHTML<=0&&o[0].innerHTML<=0&&i[0].innerHTML<=0&&clearInterval(d),l+=1e3},1e3)),$(".js-product__attribute-summery-more-wrapper").click(function(){$(".js-product__attribute-summery-list-wrapper").toggleClass("product__attribute-summery-list-closed");var e=$(".js-product__attribute-summery-more");e.hasClass("product__attribute-summery-more-closed")?(e.toggleClass("product__attribute-summery-more-closed"),e[0].innerText="- بستن"):(e.toggleClass("product__attribute-summery-more-closed"),e[0].innerText="+ موارد بیشتر")}),$(".js-product__color").click(function(){$(this).addClass("product__color--active"),$(".js-product__color").not(this).removeClass("product__color--active")}),$(".js-product__quantity-add").click(function(){var e=$(".js-product__quantity-input");1<=parseInt(e.val())?e.val(parseInt(e.val())+1):e.val(1)}),$(".js-product__quantity-remove").click(function(){var e=$(".js-product__quantity-input");parseInt(e.val())<=1?e.val(1):e.val(parseInt(e.val())-1)}),$(".js-product__actions-share").click(function(e){e.preventDefault(),$(".js-product__share-modal").css("display","flex").hide().fadeIn(100)}),$(".js-modal__overlay").click(function(e){e.preventDefault(),e.stopPropagation(),$(this).fadeOut(100)}),$(".js-modal__close").click(function(e){e.preventDefault(),$(this).closest(".js-modal__overlay").fadeOut(100)}),$(".js-modal__wrapper").click(function(e){e.preventDefault(),e.stopPropagation()}),$(".js-product__share-item-link, .js-product__share-item").click(function(e){e.preventDefault(),e.stopPropagation()}),$(".js-product__actions-video").click(function(e){e.preventDefault(),$(".js-product__video-modal").css("display","flex").hide().fadeIn(100)}),$(".js-product__share-item-link").click(function(e){e.preventDefault();var t,s;t=$(this),s=$("<input>"),$("body").append(s),s.val(t.data("url")).select(),document.execCommand("copy"),s.remove();$(".js-product__share-item-link-label")[0].innerText="کپی شد",$(".js-product__share-item-link-icon").removeClass("icon-grid-outline"),$(".js-product__share-item-link-icon").addClass("icon-checkmark-circle-outline"),setTimeout(function(){$(".js-product__share-item-link-label")[0].innerText="کپی لینک",$(".js-product__share-item-link-icon").removeClass("icon-checkmark-circle-outline"),$(".js-product__share-item-link-icon").addClass("icon-grid-outline")},3e3)}),$(".js-product__actions-compare").click(function(e){e.preventDefault(),$(this).toggleClass("product__actions-compare--active")}),$(".js-product__actions-zoom").click(function(e){var t,s;e.preventDefault(),$(".js-product__zoom-modal").css("display","flex").hide().fadeIn(100),t=".js-product__zoom-image",s=$(".product__gallery-main").find(".swiper-slide-active").find(".product__image").attr("src"),$(t).attr("src",s)}),_(".product__image",2),$(".js-product__tabs-responsive").click(function(){$(this).closest(".js-product__tabs-panel").toggleClass("product__tabs-panel-closed");var e=$(this).find(".js-product__tabs-responsive-link");e.hasClass("product__tabs-responsive-link-closed")?(e.toggleClass("product__tabs-responsive-link-closed"),e[0].innerText="نمایش کمتر"):(e.toggleClass("product__tabs-responsive-link-closed"),e[0].innerText="نمایش بیشتر")}),$(".js-product__tabs-more").click(function(){$(".js-product__tabs-content--description-closed").toggleClass("product__tabs-content--description-closed");var e=$(".js-product__tabs-more");e.hasClass("product__tabs-more--closed")?(e.toggleClass("product__tabs-more--closed"),e[0].innerText="کمتر"):(e.toggleClass("product__tabs-more--closed"),e[0].innerText="ادامه مطلب")}),$("#js-product__video").click(function(e){e.stopPropagation()}),$(".js-product__video-modal").click(function(e){var t=document.getElementById("js-product__video");e.stopPropagation(),t.load()}),$(".js-product__tabs-item").click(function(e){e.preventDefault(),$(".js-product__tabs-item").removeClass("product__tabs-item--active"),$(this).addClass("product__tabs-item--active");var t=$(this).attr("data-tab"),s=$(".js-product__tabs-panel");s.removeClass("product__tabs-panel--active"),s.eq(t).addClass("product__tabs-panel--active")}),$(".js-product__rating-comments").click(function(e){e.preventDefault(),$(".js-product__tabs-item").click(),$("html, body").animate({scrollTop:$(".js-product__tabs-item").offset().top},700)}),$(".product__rating-average").starrr({rating:4,readOnly:!0}),$(".product__tabs-comments-rate").starrr({rating:4,readOnly:!0,change:function(e,t){console.log("new rating is "+t,e)}}),$(".product__tabs-comments-rating").starrr({rating:0,readOnly:!1,change:function(e,t){e.target.setAttribute("data-rate",t)}}),$(".js-product__tabs-comments-submit").click(function(e){var t,s,r=$(".product__tabs-comments-rating").attr("data-rate"),a=(t=".product__tabs-comments-rating",s=r,(t=$(t)).length?!!s||($(t).addClass("validation-shake"),setTimeout(function(){$(t).removeClass("validation-shake")},900),!1):(console.log("There is no Eelement"),!1)),i=h(".product__tabs-comments-input"),o=h(".product__tabs-comments-name"),n=h(".product__tabs-comments-email");a&&i&&o&&n||e.preventDefault()})});var slice=[].slice;!function(i){var r;function e(e,t){var s,r,a;this.options=i.extend({},this.defaults,t),this.$el=e,this.$el.closest(".starrr").attr("data-rate")&&(this.options.rating=this.$el.closest(".starrr").attr("data-rate")),this.createStars(),this.syncRating(),this.options.readOnly||(this.$el.on("mouseover.starrr","i",(s=this,function(e){return s.syncRating(s.getStars().index(e.currentTarget)+1)})),this.$el.on("mouseout.starrr",(r=this,function(){return r.syncRating()})),this.$el.on("click.starrr","i",(a=this,function(e){return e.preventDefault(),a.setRating(a.getStars().index(e.currentTarget)+1)})),this.$el.on("starrr:change",this.options.change))}window.Starrr=(e.prototype.defaults={rating:void 0,max:5,readOnly:!1,emptyClass:"icon-star",fullClass:"icon-stock",change:function(e,t){}},e.prototype.getStars=function(){return this.$el.find("i")},e.prototype.createStars=function(){for(var e=[],t=1,s=this.options.max;1<=s?t<=s:s<=t;1<=s?t++:t--)e.push(this.$el.append("<i></i>"));return e},e.prototype.setRating=function(e){return this.options.rating===e&&(e=void 0),this.options.rating=e,this.syncRating(),this.$el.trigger("starrr:change",e)},e.prototype.getRating=function(){return this.options.rating},e.prototype.syncRating=function(e){var t,s,r,a,i;for(e=e||this.options.rating,t=this.getStars(),i=[],s=r=1,a=this.options.max;1<=a?r<=a:a<=r;s=1<=a?++r:--r)i.push(t.eq(s-1).removeClass(s<=e?this.options.emptyClass:this.options.fullClass).addClass(s<=e?this.options.fullClass:this.options.emptyClass));return i},r=e),i.fn.extend({starrr:function(){var t=arguments[0],s=2<=arguments.length?slice.call(arguments,1):[];return this.each(function(){var e=i(this).data("starrr");if(e||i(this).data("starrr",e=new r(i(this),t)),"string"==typeof t)return e[t].apply(e,s)})}})}(window.jQuery);