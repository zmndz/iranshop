$(document).ready(function(){$(document).mouseup(function(e){var t=$(".js-search-wrapper");t.is(e.target)||0!==t.has(e.target).length||s()});function s(){$(".js-overlay").removeClass("overlay--active"),$(".js-search__result").removeClass("search__result--active")}function t(){$(".js-search__input").val(""),$(".js-search__icon-close").removeClass("search__icon-close--active"),s()}function r(e){e?($(".js-search__result-history").addClass("search__result-history--active"),$(".js-search__result-tags").addClass("search__result-tags--active"),$(".js-search__result-autosuggest").removeClass("search__result-autosuggest--active"),$(".js-search__result-list").removeClass("search__result-list--active")):($(".js-search__result-history").removeClass("search__result-history--active"),$(".js-search__result-tags").removeClass("search__result-tags--active"),$(".js-search__result-autosuggest").addClass("search__result-autosuggest--active"),$(".js-search__result-list").addClass("search__result-list--active"))}$(".js-product__share-item-link").attr("data-url",window.location.href),$(".js-footer__jump-to-top").click(function(){$("html, body").scrollTop(0)}),$(".js-search__input").focusin(function(e){$(".js-search__result").addClass("search__result--active"),$(".js-overlay").addClass("overlay--active"),$(".js-search__input").val()||r(!0)}),$(".js-search__input").focusout(function(e){}),$(".js-search__icon-close").click(function(e){e.preventDefault(),t()}),$(".search__result-tags--item").click(function(e){$(".js-search__input").off(),t()}),$(".js-search__input").keyup(function(e){$(this).val()?($(".js-search__icon-close").addClass("search__icon-close--active"),$(".js-search__result-autosuggest--not-founded").text(e.target.value),r(!1)):($(".js-search__icon-close").removeClass("search__icon-close--active"),r(!0))}),$(".js-search__result").click(function(e){e.stopPropagation()}),$(".js-header-desktop__tab-menu-list").mouseover(function(){$(".header-desktop__tab-menu-list--active").not(this).removeClass("header-desktop__tab-menu-list--active"),$(this).addClass("header-desktop__tab-menu-list--active");$(".header-desktop__tab-menu-list");var e=$(".header-desktop__tab-menu-content"),t=$(this).children("div").data("index");e.each(function(){t==$(this).data("index")?$(this).addClass("header-desktop__tab-menu-content--active"):$(this).removeClass("header-desktop__tab-menu-content--active")})}),$(".js-header-responsive__burger-menu").click(function(){$(".header-responsive__side").addClass("header-responsive__side--open"),$(".header-responsive__side-wrapper").addClass("header-responsive__side-wrapper--open")}),$(".js-header-responsive__side-wrapper").click(function(e){e.target==this&&($(".header-responsive__side").removeClass("header-responsive__side--open"),$(".header-responsive__side-wrapper").removeClass("header-responsive__side-wrapper--open"))}),window.onscroll=function(){window.pageYOffset>i?e.slideUp(100):e.slideDown(100)};$(".js-header-desktop__row");var e=$(".js-header-desktop__navbar-wrapper"),i=150;new Swiper(".js-main-slider",{lazy:!1,preloadImages:!0,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});var a,o,n,c,l,d,u=new Swiper(".js-product__gallery-thumbs",{spaceBetween:10,slidesPerView:4,freeMode:!0}),p=(new Swiper(".js-product__gallery-main",{spaceBetween:10,lazy:!1,preloadImages:!0,slidesPerView:1,loop:!1,thumbs:{swiper:u},on:{slideChangeTransitionEnd:function(){h(".product__image",2)}}}),new Swiper(".js-slider",{lazy:!0,slidesPerView:2,spaceBetween:10,freeMode:!0,loop:!1,navigation:{nextEl:".products-button-next",prevEl:".products-button-prev"},scrollbar:{el:".swiper-scrollbar",hide:!0},breakpoints:{700:{slidesPerView:3,spaceBetween:15},991:{slidesPerView:4,spaceBetween:40,freeMode:!1}}}),new Swiper(".js-special-slider",{lazy:!0,slidesPerView:2,spaceBetween:10,freeMode:!0,loop:!1,navigation:{nextEl:".special-slider-button-next",prevEl:".special-slider-button-prev"},scrollbar:{el:".swiper-scrollbar",hide:!0},breakpoints:{700:{slidesPerView:3,spaceBetween:15},991:{slidesPerView:4,spaceBetween:10,freeMode:!1}}}),new Swiper(".js-brand-slider",{lazy:!0,slidesPerView:2,spaceBetween:10,freeMode:!0,loop:!0,navigation:{nextEl:".brand-slider-button-next",prevEl:".brand-slider-button-prev"},scrollbar:{el:".swiper-scrollbar",hide:!0},breakpoints:{700:{slidesPerView:3,spaceBetween:15},991:{slidesPerView:5,spaceBetween:40,freeMode:!1}}}),new Swiper(".js-moment-slider",{init:!1,lazy:!0,slidesPerView:1,loop:!0,autoplay:{delay:7e3},speed:500}));function _(){$(".moment-slider__loader").css({width:"100%",transition:"width 7000ms ease-in-out"})}function h(e,c){var l,d,u,p;function t(e){var t,s,r,i,a,o,n;e.preventDefault(),n=o=0,i=(i=e)||window.event,a=l.getBoundingClientRect(),o=i.pageX-a.left,n=i.pageY-a.top,o-=window.pageXOffset,n-=window.pageYOffset,r=(t={x:o,y:n}).y,(s=t.x)>l.width-u/c&&(s=l.width-u/c),s<u/c&&(s=u/c),r>l.height-p/c&&(r=l.height-p/c),r<p/c&&(r=p/c),d.style.left=s-u+"px",d.style.top=r-p+"px",d.style.backgroundPosition="-"+(s*c-u+3)+"px -"+(r*c-p+3)+"px"}imgList=$(e),imgList.siblings().remove(),imgList.map(function(e,t){t.closest(".swiper-slide-active")&&(l=t)}),l&&((d=document.createElement("DIV")).setAttribute("class","img-magnifier-glass"),l.parentElement.insertBefore(d,l),d.style.backgroundImage="url('"+l.src+"')",d.style.backgroundRepeat="no-repeat",d.style.backgroundSize=l.width*c+"px "+l.height*c+"px",u=d.offsetWidth/2,p=d.offsetHeight/2,d.addEventListener("mousemove",t),l.addEventListener("mousemove",t),d.addEventListener("touchmove",t),l.addEventListener("touchmove",t))}function m(e){var t=(e=$(e)).val();return e.length?!!t||($(e).addClass("validation-shake"),setTimeout(function(){$(e).removeClass("validation-shake")},900),!1):(console.log("There is no Eelement"),!1)}p.on("init",function(){_()}),p.$wrapperEl&&p.init(),p.on("slideChangeTransitionStart",function(){$(".moment-slider__loader").css({width:0,transition:"width 0s ease-in-out"})}),p.on("slideChangeTransitionEnd",function(){_()}),function(){$(".js-special-slider");var e=$(".js-special-slider__slide");e.length&&e.map(function(a,e){var o=$(".js-special-slider__counter-seconds"),n=$(".js-special-slider__counter-minutes"),c=$(".js-special-slider__counter-hour"),l=1e3*o[a].innerHTML+6e4*n[a].innerHTML+36e5*c[a].innerHTML,d=0,u=setInterval(function(){var e,t,s,r,i=(e=l-d,s=Math.floor(e/1e3),r=Math.floor(s/60),s%=60,t=Math.floor(r/60),{hour:0==(t%=24)?"00":10<=t?t:"0"+t,minute:0==(r%=60)?"00":10<=r?r:"0"+r,seconds:0==s?"00":10<=s?s:"0"+s});o[a].innerHTML=i.seconds,n[a].innerHTML=i.minute,c[a].innerHTML=i.hour,c[a].innerHTML<=0&&n[a].innerHTML<=0&&o[a].innerHTML<=0&&clearInterval(u),d+=1e3},1e3)})}(),$(".js-product__counter").length&&(a=$(".js-product__counter-seconds"),o=$(".js-product__counter-minutes"),n=$(".js-product__counter-hours"),c=1e3*a[0].innerHTML+6e4*o[0].innerHTML+36e5*n[0].innerHTML,l=0,d=setInterval(function(){var e,t,s,r,i=(e=c-l,s=Math.floor(e/1e3),r=Math.floor(s/60),s%=60,t=Math.floor(r/60),{hour:0==(t%=24)?"00":10<=t?t:"0"+t,minute:0==(r%=60)?"00":10<=r?r:"0"+r,seconds:0==s?"00":10<=s?s:"0"+s});a[0].innerHTML=i.seconds,o[0].innerHTML=i.minute,n[0].innerHTML=i.hour,n[0].innerHTML<=0&&o[0].innerHTML<=0&&a[0].innerHTML<=0&&clearInterval(d),l+=1e3},1e3)),$(".js-product__attribute-summery-more-wrapper").click(function(){$(".js-product__attribute-summery-list-wrapper").toggleClass("product__attribute-summery-list-closed");var e=$(".js-product__attribute-summery-more");e.hasClass("product__attribute-summery-more-closed")?(e.toggleClass("product__attribute-summery-more-closed"),e[0].innerText="- بستن"):(e.toggleClass("product__attribute-summery-more-closed"),e[0].innerText="+ موارد بیشتر")}),$(".js-product__color").click(function(){$(this).addClass("product__color--active"),$(".js-product__color").not(this).removeClass("product__color--active")}),$(".js-product__quantity-add").click(function(){var e=$(".js-product__quantity-input");1<=parseInt(e.val())?e.val(parseInt(e.val())+1):e.val(1)}),$(".js-product__quantity-remove").click(function(){var e=$(".js-product__quantity-input");parseInt(e.val())<=1?e.val(1):e.val(parseInt(e.val())-1)}),$(".js-product__actions-share").click(function(e){e.preventDefault(),$(".js-product__share-modal").css("display","flex").hide().fadeIn(100)}),$(".js-modal__overlay").click(function(e){e.preventDefault(),e.stopPropagation(),$(this).fadeOut(100)}),$(".js-modal__close").click(function(e){e.preventDefault(),$(this).closest(".js-modal__overlay").fadeOut(100)}),$(".js-modal__wrapper").click(function(e){e.preventDefault(),e.stopPropagation()}),$(".js-product__share-item-link, .js-product__share-item").click(function(e){e.preventDefault(),e.stopPropagation()}),$(".js-product__actions-video").click(function(e){e.preventDefault(),$(".js-product__video-modal").css("display","flex").hide().fadeIn(100)}),$(".js-product__share-item-link").click(function(e){e.preventDefault();var t,s;t=$(this),s=$("<input>"),$("body").append(s),s.val(t.data("url")).select(),document.execCommand("copy"),s.remove();$(".js-product__share-item-link-label")[0].innerText="کپی شد",$(".js-product__share-item-link-icon").removeClass("icon-grid-outline"),$(".js-product__share-item-link-icon").addClass("icon-checkmark-circle-outline"),setTimeout(function(){$(".js-product__share-item-link-label")[0].innerText="کپی لینک",$(".js-product__share-item-link-icon").removeClass("icon-checkmark-circle-outline"),$(".js-product__share-item-link-icon").addClass("icon-grid-outline")},3e3)}),$(".js-product__actions-compare").click(function(e){e.preventDefault(),$(this).toggleClass("product__actions-compare--active")}),$(".js-product__actions-zoom").click(function(e){var t,s;e.preventDefault(),$(".js-product__zoom-modal").css("display","flex").hide().fadeIn(100),t=".js-product__zoom-image",s=$(".product__gallery-main").find(".swiper-slide-active").find(".product__image").attr("src"),$(t).attr("src",s)}),h(".product__image",2),$(".js-product__tabs-responsive").click(function(){$(this).closest(".js-product__tabs-panel").toggleClass("product__tabs-panel-closed");var e=$(this).find(".js-product__tabs-responsive-link");e.hasClass("product__tabs-responsive-link-closed")?(e.toggleClass("product__tabs-responsive-link-closed"),e[0].innerText="نمایش کمتر"):(e.toggleClass("product__tabs-responsive-link-closed"),e[0].innerText="نمایش بیشتر")}),$(".js-product__tabs-more").click(function(){$(".js-product__tabs-content--description-closed").toggleClass("product__tabs-content--description-closed");var e=$(".js-product__tabs-more");e.hasClass("product__tabs-more--closed")?(e.toggleClass("product__tabs-more--closed"),e[0].innerText="کمتر"):(e.toggleClass("product__tabs-more--closed"),e[0].innerText="ادامه مطلب")}),$("#js-product__video").click(function(e){e.stopPropagation()}),$(".js-product__video-modal").click(function(e){var t=document.getElementById("js-product__video");e.stopPropagation(),t.load()}),$(".js-product__tabs-item").click(function(e){e.preventDefault(),$(".js-product__tabs-item").removeClass("product__tabs-item--active"),$(this).addClass("product__tabs-item--active");var t=$(this).attr("data-tab"),s=$(".js-product__tabs-panel");s.removeClass("product__tabs-panel--active"),s.eq(t).addClass("product__tabs-panel--active")}),$(".js-product__rating-comments").click(function(e){e.preventDefault(),$(".js-product__tabs-item").click(),$("html, body").animate({scrollTop:$(".js-product__tabs-item").offset().top},700)}),$(".product__rating-average").starrr({rating:4,readOnly:!0}),$(".product__tabs-comments-rate").starrr({rating:4,readOnly:!0,change:function(e,t){console.log("new rating is "+t,e)}}),$(".product__tabs-comments-rating").starrr({rating:0,readOnly:!1,change:function(e,t){e.target.setAttribute("data-rate",t)}}),$(".js-product__tabs-comments-submit").click(function(e){var t,s,r=$(".product__tabs-comments-rating").attr("data-rate"),i=(t=".product__tabs-comments-rating",s=r,(t=$(t)).length?!!s||($(t).addClass("validation-shake"),setTimeout(function(){$(t).removeClass("validation-shake")},900),!1):(console.log("There is no Eelement"),!1)),a=m(".product__tabs-comments-input"),o=m(".product__tabs-comments-name"),n=m(".product__tabs-comments-email");i&&a&&o&&n||e.preventDefault()}),$(".js-result__widget-title").click(function(e){$(this).parent("div").find(".js-result__widget-content").slideToggle("fast"),$(this).parent("div").find(".js-result__widget-icon").toggleClass("result__widget-icon--rotate-reverse")}),$(".js-result__widget-brand-item").click(function(e){1==$(this).find("input").prop("checked")?$(this).find("input").prop("checked",!1):$(this).find("input").prop("checked",!0)}),$(".js-result__widget-brand-item input").click(function(e){e.stopPropagation()}),$(".js-result__widget-colors-item").click(function(e){1==$(this).find("input").prop("checked")?$(this).find("input").prop("checked",!1):$(this).find("input").prop("checked",!0)}),$(".js-result__widget-colors-item input").click(function(e){e.stopPropagation()}),$(".js-result__widget-categories-more").click(function(e){var t=$(".js-result__widget-categories"),s=t.hasClass("result__widget-categories--closed"),r=t.css("min-height"),i=t.css("height","auto").height();$(this).parent("div").find(".js-result__widget-categories-icon").toggleClass("result__widget-categories-icon--rotate-reverse"),s?(t.css("height",r).animate({height:i},200),t.removeClass("result__widget-categories--closed")):(t.animate({height:r},200),t.addClass("result__widget-categories--closed"))}),$(".js-result__order-item").click(function(e){console.log($(this)),$(this).addClass("result__order-item--active"),$(".js-result__order-item").not(this).removeClass("result__order-item--active")});var g,v,f=document.querySelector(".js-result__widget-price-slider");f&&(noUiSlider.create(f,{start:[9e4,3e5],step:1,connect:!0,range:{min:1e3,max:6e5},direction:"rtl",behaviour:"tap-drag",format:wNumb({decimals:3,thousand:","})}),g=document.querySelector(".js-result__widget-price-range-from"),v=document.querySelector(".js-result__widget-price-range-to"),f.noUiSlider.on("update",function(e,t){g.innerHTML=e[0],v.innerHTML=e[1]}))});var slice=[].slice;!function(a){var r;function e(e,t){var s,r,i;this.options=a.extend({},this.defaults,t),this.$el=e,this.$el.closest(".starrr").attr("data-rate")&&(this.options.rating=this.$el.closest(".starrr").attr("data-rate")),this.createStars(),this.syncRating(),this.options.readOnly||(this.$el.on("mouseover.starrr","i",(s=this,function(e){return s.syncRating(s.getStars().index(e.currentTarget)+1)})),this.$el.on("mouseout.starrr",(r=this,function(){return r.syncRating()})),this.$el.on("click.starrr","i",(i=this,function(e){return e.preventDefault(),i.setRating(i.getStars().index(e.currentTarget)+1)})),this.$el.on("starrr:change",this.options.change))}window.Starrr=(e.prototype.defaults={rating:void 0,max:5,readOnly:!1,emptyClass:"icon-star",fullClass:"icon-stock",change:function(e,t){}},e.prototype.getStars=function(){return this.$el.find("i")},e.prototype.createStars=function(){for(var e=[],t=1,s=this.options.max;1<=s?t<=s:s<=t;1<=s?t++:t--)e.push(this.$el.append("<i></i>"));return e},e.prototype.setRating=function(e){return this.options.rating===e&&(e=void 0),this.options.rating=e,this.syncRating(),this.$el.trigger("starrr:change",e)},e.prototype.getRating=function(){return this.options.rating},e.prototype.syncRating=function(e){var t,s,r,i,a;for(e=e||this.options.rating,t=this.getStars(),a=[],s=r=1,i=this.options.max;1<=i?r<=i:i<=r;s=1<=i?++r:--r)a.push(t.eq(s-1).removeClass(s<=e?this.options.emptyClass:this.options.fullClass).addClass(s<=e?this.options.fullClass:this.options.emptyClass));return a},r=e),a.fn.extend({starrr:function(){var t=arguments[0],s=2<=arguments.length?slice.call(arguments,1):[];return this.each(function(){var e=a(this).data("starrr");if(e||a(this).data("starrr",e=new r(a(this),t)),"string"==typeof t)return e[t].apply(e,s)})}})}(window.jQuery);